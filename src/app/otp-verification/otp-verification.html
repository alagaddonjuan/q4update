<div class="flex h-screen w-screen font-sans">

  <div class="hidden md:flex w-1/2 bg-primary items-center justify-center p-12 relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-tr from-black/10 via-transparent to-black/0"></div>
    
    <div class="relative max-w-lg">
      <img 
        [src]="illustrationPath" 
        alt="OTP Verification Illustration with a person verifying" 
        class="w-full h-auto object-contain"
      >
    </div>
  </div>

  <div class="w-full md:w-1/2 bg-white flex items-center justify-center p-8 sm:p-16">
    <div class="text-center max-w-md">
      
      <h1 class="text-3xl font-bold text-[#337267] mb-4 tracking-tight">
        OTP Verification
      </h1>
      
      <p class="text-base text-gray-600 mb-8">
        Enter the verification code we just sent on your email address/phone number
      </p>

      <div class="flex justify-center space-x-2 sm:space-x-3 mb-8">
        <input
          *ngFor="let digit of otpDigits; let i = index"
          [id]="'otp-input-' + i"
          type="text"
          maxlength="1"
          (input)="handleOtpInput($event, i)"
          (paste)="i === 0 ? handleOtpPaste($event) : null"
          [(ngModel)]="otpDigits[i]"
          class="w-12 h-14 sm:w-14 sm:h-16 text-center text-3xl font-bold text-gray-800
                 border-2 border-gray-300 rounded-lg focus:border-[#337267] focus:ring-1 
                 focus:ring-[#337267] outline-none transition duration-150 ease-in-out"
          inputmode="numeric"
          pattern="[0-9]*"
          autocomplete="one-time-code"
        >
      </div>

      <button 
        (click)="verifyOtp()"
        class="w-full sm:w-80 h-12 bg-[#337267] text-white font-semibold rounded-lg 
               hover:bg-opacity-90 transition duration-150 ease-in-out 
               focus:outline-none focus:ring-4 focus:ring-[#337267]/50"
      >
        Reset Password
      </button>

      <p class="text-sm text-gray-500 mt-6">
        Didn't receive the code? 
        <button 
          (click)="resendOtp()" 
          [disabled]="resendCountdown > 0"
          class="font-medium text-[#337267] hover:underline 
                 disabled:text-gray-400 disabled:no-underline disabled:cursor-not-allowed"
        >
          Resend OTP
        </button>
        <span *ngIf="resendCountdown > 0" class="ml-2">({{ resendCountdown }}s)</span>
      </p>

    </div>
  </div>
</div>
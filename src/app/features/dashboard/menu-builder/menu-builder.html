<div class="min-h-screen p-4">
    <!-- Loading State -->
  @if (isLoading()) {
    <div class="loading-overlay">
      <div class="spinner"></div>
      <p>Loading USSD menus...</p>
    </div>
  }
  <div class="max-w-7xl mx-auto">
    <p class="text-gray-600 mb-6">Here you can create and manage your USSD menus.</p>

    <!-- Menus Card -->
    <div class="bg-white rounded-lg shadow-sm p-6">
      <h2 class="text-2xl font-semibold text-teal-700 mb-6">Your Menus</h2>

      <div class="overflow-x-auto">
        <table class="w-full">
          <thead>
            <tr class="border-b border-gray-200">
              <th class="text-left py-3 px-4 text-gray-600 font-medium">Menu Name</th>
              <th class="text-left py-3 px-4 text-gray-600 font-medium">Status</th>
              <th class="text-left py-3 px-4 text-gray-600 font-medium">Actions</th>
            </tr>
          </thead>
          <tbody>
            @for (menu of menus; track menu.id) {
            <tr class="border-b border-gray-100 hover:bg-gray-50">
              <td class="py-3 px-4 text-gray-700">{{ menu.name }}</td>
              <td class="py-3 px-4">
                <span
                  class="text-sm"
                  [ngClass]="{
                    'text-green-600': menu.status === 'Active',
                    'text-gray-500': menu.status === 'Inactive'
                  }"
                >
                  {{ menu.status }}
                </span>
              </td>
              <td class="py-3 px-4">
                <div class="flex gap-2">
                  <button
                    (click)="editMenu(menu)"
                    class="bg-cyan-500 hover:bg-cyan-600 text-white text-sm font-medium py-1 px-4 rounded transition-colors"
                  >
                    Edit
                  </button>
                  <button
                    (click)="toggleMenuStatus(menu)"
                    class="bg-teal-700 hover:bg-teal-800 text-white text-sm font-medium py-1 px-4 rounded transition-colors"
                  >
                    Set {{ menu.status === 'Active' ? 'Inactive' : 'Active' }}
                  </button>
                </div>
              </td>
            </tr>
            } @empty {
            <tr>
              <td colspan="3" class="text-center py-8 text-gray-500">
                No menus found. Create your first menu to get started.
              </td>
            </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
